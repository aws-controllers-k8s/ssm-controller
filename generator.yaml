ignore:
  resource_names:
      - Activation
      - Association
      - AssociationBatch
      # - Document
      - MaintenanceWindow
      - OpsItem
      # - Parameter
      # - PatchBaseline
      # - ResourceDataSync
  field_paths:
      - PutParameterInput.Overwrite

resources:
  Document:
    exceptions:
      errors:
        404:
          code: InvalidDocument

  Parameter:
    fields:
      Name:
        is_primary_key: true
      Type:
        # Marking field as immutable
        # From the docs:
        # Parameter Store doesn't support changing a parameter type in a hierarchy.
        # For example, you can't change a parameter from a String type to a SecureString type.
        # You must create a new, unique parameter.
        is_immutable: true
        go_tag: json:"type,omitempty"
      KeyId:
        references:
          service_name: kms
          resource: Key
          path: Status.ACKResourceMetadata.ARN
      DataType:
        late_initialize: {}
    exceptions:
      errors:
        404:
          code: ParameterNotFound
    hooks:
      sdk_read_one_post_build_request:
        template_path: hooks/parameter/sdk_read_one_post_build_request.go.tpl
      sdk_update_post_build_request:
        template_path: hooks/parameter/sdk_update_post_build_request.go.tpl
    tags:
      ignore: true

  ResourceDataSync:
    fields:
      SyncName:
        is_primary_key: true
    tags:
      ignore: true

  PatchBaseline:
    fields:
      Name:
        is_primary_key: true
      Tags:
        compare:
          is_ignored: true
    hooks:
      delta_pre_compare:
       code: compareTags(delta, a, b)
      sdk_read_one_post_set_output:
        template_path: hooks/patchbaseline/sdk_read_one_post_set_output.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/patchbaseline/sdk_update_pre_build_request.go.tpl

operations:
  DescribeDocument:
    operation_type:
    - Get
    resource_name:
      Document

  PutParameter:
    operation_type:
    - Create
    - Update
    resource_name:
      Parameter